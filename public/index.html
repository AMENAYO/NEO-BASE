<!DOCTYPE html>
<html>
<head>
  <title>NEO BASE - Frontend Only</title>
  <style>
    body { background:black; color:yellow; font-family:Arial; text-align:center; padding:50px; }
    input, textarea, button { padding:10px; margin:10px; width:300px; background:black; color:yellow; border:1px solid yellow; }
    button:hover { background:yellow; color:black; }
    h1,h2 { margin: 10px; }
    pre { text-align:left; max-width: 600px; margin:auto; background:#111; padding:10px; border:1px solid yellow; overflow-x:auto; }
  </style>
</head>
<body>

  <h1>ðŸš€ NEO BASE</h1>

  <h2>Register / Inscription</h2>
  <input id="regUser" placeholder="Username / Nom"><br>
  <input id="regPass" placeholder="Password / Mot de passe" type="password"><br>
  <button onclick="register()">Register / Inscription</button>

  <h2>Login / Connexion</h2>
  <input id="username" placeholder="Username / Nom"><br>
  <input id="password" placeholder="Password / Mot de passe" type="password"><br>
  <button onclick="login()">Login / Connexion</button>

  <h2>Store Data / Stocker des donnÃ©es</h2>
  <textarea id="data" placeholder="Enter data / Entrez les donnÃ©es"></textarea><br>
  <button onclick="store()">Store / Stocker</button>

  <h2>Your Files / Vos fichiers</h2>
  <button onclick="listFiles()">List / Lister</button>
  <pre id="output"></pre>

<script>
// ======== Simple frontend storage system =========

// Users & data stored in localStorage
// Structure:
// localStorage['neo_users'] = { username: hashedPassword, ... }
// localStorage['neo_data'] = { username: { fileId: content, ... }, ... }

function hash(str) {
  // Simple hash (not cryptographically secure)
  let hash = 0;
  for(let i=0;i<str.length;i++){
    hash = (hash<<5)-hash + str.charCodeAt(i);
    hash = hash & hash;
  }
  return hash.toString();
}

function getUsers() {
  return JSON.parse(localStorage.getItem('neo_users')||'{}');
}

function getData() {
  return JSON.parse(localStorage.getItem('neo_data')||'{}');
}

function saveUsers(users) {
  localStorage.setItem('neo_users', JSON.stringify(users));
}

function saveData(data) {
  localStorage.setItem('neo_data', JSON.stringify(data));
}

let loggedUser = null;

// ===== Register =====
function register() {
  const username = document.getElementById('regUser').value.trim();
  const password = document.getElementById('regPass').value;
  if(!username || !password){ alert("Fill all / Remplir tout"); return; }
  let users = getUsers();
  if(users[username]) { alert("User exists / Utilisateur existe"); return; }
  users[username] = hash(password);
  saveUsers(users);
  document.getElementById('output').innerText = "Registered / Inscrit";
}

// ===== Login =====
function login() {
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value;
  let users = getUsers();
  if(users[username] !== hash(password)) { document.getElementById('output').innerText = "Invalid / Invalide"; return; }
  loggedUser = username;
  document.getElementById('output').innerText = "Logged in / ConnectÃ©";
}

// ===== Store data =====
function store() {
  if(!loggedUser){ alert("Login first / Connectez-vous d'abord"); return; }
  const content = document.getElementById('data').value;
  if(!content){ alert("Enter data / Entrez les donnÃ©es"); return; }
  let data = getData();
  if(!data[loggedUser]) data[loggedUser] = {};
  const fileId = 'file_' + Date.now();
  data[loggedUser][fileId] = content;
  saveData(data);
  document.getElementById('output').innerText = "Stored ID / ID stockÃ©: " + fileId;
}

// ===== List files =====
function listFiles() {
  if(!loggedUser){ alert("Login first / Connectez-vous d'abord"); return; }
  let data = getData();
  const files = data[loggedUser] || {};
  let text = '';
  for(const id in files){
    text += id + " : " + files[id] + "\n";
  }
  document.getElementById('output').innerText = text || "No files / Aucun fichier";
}
</script>

</body>
</html>
